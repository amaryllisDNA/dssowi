---
title: "DS_Project"
author: "Anth√©a von Borowski"
date: "2024-12-09"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Ressources

### Libraries

```{r lib, message=F}
#install.packages("dplyr")
#install.packages("ggplot2")
#install.pakages("readr")

library(dplyr)
library(ggplot2)
library(readr)
```

### Data Import

Data has been previously selected and modified in "data_import.Rmd".

```{r rawdata}
#ROHDATEN
data_nyc<-read.csv("Data\\baumnyc.csv")
inc_zip<-read.csv("Data\\us_income_zipcode.csv")
demographics<-read.csv("Data\\demographics.csv", sep=",")
zcta_us<-st_read("Data\\ZCTA\\tl_2016_us_zcta510.shp")
nyc_codes<-read.csv("Data\\NYC\\zip-codes-data.csv")


```

### Restricting data
```{r }

required_columns<-c("common_name","scientific_name","city", "state", "longitude_coordinate", "latitude_coordinate", "zipcode", "condition", "native", "greater_metro")
baumnyc<-data_nyc[, required_columns, drop=F]
zip_nyc<-inc_zip[inc_zip$Year ==2015,]
zcta_usa<-zcta_us[zcta_us$ZCTA5CE10 %in% 6390:14905,]




```

### Mapping of locations to ZCTA zip-codes

```{r mapping}

st_crs(zcta_usa)

coordinates<-data.frame(longitude=baumnyc$longitude_coordinate, latitude=baumnyc$latitude_coordinate)

points <- st_as_sf(baumnyc, coords = c("longitude_coordinate", "latitude_coordinate"), crs = 4326)

zcta <- st_transform(zcta_usa, st_crs(points))
result <- st_join(st_sf(geometry = points), zcta, join = st_within)



```


